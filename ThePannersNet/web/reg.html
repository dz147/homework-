<div id="regModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document" style="width: 30%;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title">用户注册</h3>
      </div>
      <div class="modal-body">
      	<div class="row" style="margin: 1rem;">
      		<div class="col-md-12">
      			<form class="form-horizontal" role="form">
					<div class="form-group">
						<input type="text" class="form-control" id="account" name="account" placeholder="账号"/>
					</div>
					<div class="form-group">
						<input type="password" class="form-control" id="password" placeholder="密码"/>
					</div>
					<div class="form-group">
						<input type="tel" class="form-control" id="tel" placeholder="手机"/>
					</div>
					<div class="form-group">
						<input type="email" class="form-control" id="email" placeholder="邮箱"/>
					</div>
				</form>
      		</div>
      	</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" id="close">关闭</button>
        <button type="button" class="btn btn-primary" id="bntReg">注册</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/operation.js"></script>
<script>
    $("#bntReg").on("click",function () {
        var account = $("#account").val();
        var pwd = $("#password").val();
        var tel = $("#tel").val();
        var email = $("#email").val();
        if(account!=""&&pwd!=""&&tel!=""&&email!=""){
            $.ajax({
                type: "post",//请求的类型
                url: "/user.do?action=userReg",//请求路径带参数
                data:{account:account,pwd:pwd,tel:tel,email:email}
            }).done(function (da) {
                console.log(da.msg);
                login();
                $("#close").trigger("click");
            }).fail(function (xhr, textStatus, errorThrown) {
                alert("原生ajax：" + xhr + textStatus + "详细错误：" + errorThrown);
            }).always(function () {
                console.log("完成任务流程结束");
            })
        }else{
            alert("内容不能为空");
		}
    });
</script>

